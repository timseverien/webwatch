---
import { getProposals as getEcma262Proposals } from '@ww/core/dist/integrations/tc39/ecma262';
import { getProposals as getEcma402Proposals } from '@ww/core/dist/integrations/tc39/ecma402';
import ProposalCardList from '../components/ProposalCardList.svelte';

const proposalsEcma262 = await getEcma262Proposals();
const proposalsEcma402 = await getEcma402Proposals();
---

<html lang="en">
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width" />
	</head>
	<body>
		<h1>Webwatch (working title)</h1>

		<h2>JavaScript/ECMA262 proposals</h2>
		<ProposalCardList
			proposals={proposalsEcma262.filter((p) => p.stage === 4)}
		/>

		<h2>JavaScript Intl/ECMA402 proposals</h2>
		<ProposalCardList
			proposals={proposalsEcma402.filter((p) => p.stage === 4)}
		/>
	</body>
</html>

<style>
	@import 'modern-css-reset';

	:root {
		font-family: system-ui, sans-serif;
	}

	.proposal-list {
		display: grid;
		grid-template-columns: repeat(auto-fit, 48ch);
		gap: 1em;

		list-style-type: none;
	}
</style>

<style is:global>
	code {
		font-family: monospace, monospace;
		font-size: inherit;
	}

	table {
		border-collapse: collapse;
		width: 100%;
	}

	th {
		text-align: start;
	}

	thead th {
		color: #888;
		font-weight: normal;
	}

	td,
	th {
		padding-inline: 0.5em;
		padding-block: 0.25em;
	}

	tr:nth-child(even) > :is(td, th) {
		background-color: #f8f8f8;
	}

	thead > tr > :is(td, th) {
		position: sticky;
		top: 0;
		background-color: #fff;
	}
</style>
