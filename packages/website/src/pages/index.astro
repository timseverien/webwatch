---
import type { Tc39SpecificationSerialized } from '@ww/core/src/integrations/tc39';
import { deserialize as deserializeTc39Data } from '@ww/core/src/integrations/tc39';
import type { W3SpecificationSerialized } from '@ww/core/src/integrations/w3';
import { deserialize as deserializeW3Data } from '@ww/core/src/integrations/w3';
import specificationsEcma262Data from '@ww/data/ecma262.json';
import specificationsEcma402Data from '@ww/data/ecma402.json';
import specificationsW3Data from '@ww/data/w3.json';
import DefaultLayout from '../layouts/Default.astro';
import SpecificationOverview from '../components/SpecificationOverview.svelte';
import Flow from '../components/Flow.svelte';

const specificationsEcma262 = deserializeTc39Data(
	specificationsEcma262Data as Tc39SpecificationSerialized[],
);
const specificationsEcma402 = deserializeTc39Data(
	specificationsEcma402Data as Tc39SpecificationSerialized[],
);
const specificationsW3 = deserializeW3Data(
	specificationsW3Data as W3SpecificationSerialized[],
);
---

<DefaultLayout>
	<Flow>
		<h1>Webwatch (working title)</h1>
		<SpecificationOverview
			specifications={[
				specificationsEcma262,
				specificationsEcma402,
				specificationsW3,
			].flat()}
			client:only
		/>
	</Flow>
</DefaultLayout>
